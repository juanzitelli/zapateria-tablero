(this["webpackJsonpzapateria-tablero"]=this["webpackJsonpzapateria-tablero"]||[]).push([[0],{168:function(e,a,t){},169:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(19),l=t.n(o),s=t(2),c=t(9),i=t(5),d=t(23),m=t(7),u=t.n(m),p=t(32),b=t.n(p),g=t(14),v=t.n(g),E="[UI] Set Login Loading",h="[UI] Remove Login Loading",j="[UI] Set Loading Tablero",O="[UI] Remove Loading Tablero",f=()=>({type:h}),y=()=>({type:j}),_=()=>({type:O}),w=(e,a)=>t=>{t({type:E});v.a.post("https://zapateria-zitelli-api.herokuapp.com/usuarios/login/",{usuario:e,contrasena:a}).then(e=>{if(e.data.error)return t(f()),u.a.fire("Error",e.data.error,"error");t((e=>({type:"login",payload:{usuario:e}}))(e.data.user.usuario)),localStorage.setItem("usuario",e.data.user.usuario),t(f())}).catch(e=>{console.error(e)})},N=t(3),C=t(17),M=t(58),V=t.n(M),z=()=>{var e=Object(s.c)(e=>e.ui).loading,a=Object(s.b)(),t=Object(i.g)(),o=((e={})=>{var a=Object(r.useState)(e),t=Object(d.a)(a,2),n=t[0],o=t[1];return[n,({target:e})=>{o(Object(N.a)(Object(N.a)({},n),{},{[e.name]:e.value}))},()=>{o(e)}]})({username:"",password:""}),l=Object(d.a)(o,3),c=l[0],m=l[1],p=l[2],g=c.username,v=c.password;return n.a.createElement("form",{className:"form-login animate__animated animate__fadeIn",id:"id-form-login",onSubmit:e=>{e.preventDefault();var r=localStorage.getItem("lastPath");if(b.a.isEmpty(g,{ignore_whitespace:!1}))return u.a.fire("Error","El nombre de usuario es inv\xe1lido","error");if(b.a.isEmpty(v,{ignore_whitespace:!1}))return u.a.fire("Error","La contrase\xf1a no puede estar vac\xeda","error");try{a(w(g,v))}catch(n){console.log(n)}finally{p({username:"",password:""}),t.replace(r)}}},n.a.createElement("h1",{className:"h3 mb-3"},e?"Iniciando":"Inici\xe1"," sesi\xf3n"),e?n.a.createElement(V.a,{css:C.css,size:12,color:"#273043",loading:e}):n.a.createElement(n.a.Fragment,null,n.a.createElement("label",{htmlFor:"inputEmail",className:"sr-only"},"Nombre de usuario"),n.a.createElement("input",{name:"username",onChange:m,value:g,type:"text",id:"inputUsername",className:"form-control",placeholder:"Username",autoFocus:"on"}),n.a.createElement("label",{htmlFor:"inputPassword",className:"sr-only"},"Contrase\xf1a"),n.a.createElement("input",{name:"password",value:v,onChange:m,type:"password",id:"inputPassword",className:"form-control",placeholder:"Password"}),n.a.createElement("button",{className:"btn btn-lg btn-primary btn-block",type:"submit"},"Ingresar")),n.a.createElement("p",{className:"mt-5 mb-3 text-muted"},"Hecho con \ud83d\udc96 por ",n.a.createElement("a",{rel:"noopener noreferrer",href:"https://github.com/juanzitelli",target:"_blank"},"@juanzitelli")))},S=()=>n.a.createElement("footer",{className:"footer navbar navbar-expand-sm navbar-light bg-light border-top"},n.a.createElement("p",{className:"mt-5 mb-3 text-muted"},"Hecho con \ud83d\udc96 por ",n.a.createElement("a",{rel:"noopener noreferrer",href:"https://github.com/juanzitelli",target:"_blank"},"@juanzitelli"))),k=()=>{var e=Object(s.c)(e=>e.auth).usuario;return n.a.createElement("div",{className:"home__main"},n.a.createElement("div",{className:"jumbotron container mt-5 animate__animated animate__fadeIn"},n.a.createElement("h1",{className:"display-4"},"\xa1Bienvenido, ",e,"!"),n.a.createElement("p",{className:"lead"},' Este es un tablero dise\xf1ado para mostrar informaci\xf3n relevante con respecto a la "Zapater\xeda Zitelli" \ud83d\udcda\ud83d\udc60\ud83d\udcbb '),n.a.createElement("hr",{className:"my-4"}),n.a.createElement("strong",null,"Hac\xe9 clicks en los diferentes enlaces de la barra de navegaci\xf3n para ver dicha informaci\xf3n. ")))},P=()=>{var e=Object(s.b)(),a=Object(i.g)();return n.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark"},n.a.createElement(c.b,{to:"/home",className:"navbar-brand mb-0 h1"},"Zapater\xeda Zitelli"),n.a.createElement("div",{className:"navbar-collapse"},n.a.createElement("div",{className:"navbar-nav"},n.a.createElement("div",{className:"nav-item dropdown"},n.a.createElement("span",{role:"button","data-toggle":"dropdown","aria-haspopup":"true",activeClassName:"active",className:"nav-item nav-link dropdown-toggle"},"Vendedores"),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink"},n.a.createElement(c.c,{className:"dropdown-item",exact:!0,to:"/vendedores"},"Todos los vendedores"),n.a.createElement(c.c,{className:"dropdown-item",to:"/vendedores/ventas"},"Vendedores y sus ventas"))),n.a.createElement("div",{className:"nav-item dropdown"},n.a.createElement("span",{role:"button","data-toggle":"dropdown","aria-haspopup":"true",activeClassName:"active",className:"nav-item nav-link dropdown-toggle"},"Productos"),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink"},n.a.createElement(c.c,{className:"dropdown-item",exact:!0,to:"/productos"},"Todos los productos"),n.a.createElement(c.c,{className:"dropdown-item",to:"/productos/mas-vendidos"},"M\xe1s vendidos"),n.a.createElement(c.c,{className:"dropdown-item",to:"/productos/mas-vendidos-marca"},"M\xe1s vendidos por marca"),n.a.createElement(c.c,{className:"dropdown-item",to:"/productos/mas-vendidos-genero"},"M\xe1s vendidos por g\xe9nero"),n.a.createElement(c.c,{className:"dropdown-item",to:"/productos/mas-vendidos-categoria"},"M\xe1s vendidos por categor\xeda"))))),n.a.createElement("div",{className:"my-2 my-lg-0"},n.a.createElement("div",{className:"btn btn-outline-danger",onClick:()=>{a.replace("/login"),localStorage.removeItem("usuario"),e({type:"logout"})}}," Logout")))},x=t(59),I=t(60),T=t(61),R=t.n(T);function L(){var e=Object(x.a)(["\n  display: block;\n  margin: 0px 5vw;\n"]);return L=function(){return e},e}var G=Object(C.css)(L()),A=({title:e,titleClass:a,mainClass:t,gridColumns:r,gridRows:o})=>{var l=Object(s.c)(e=>e.ui).loadingTablero;return n.a.createElement("div",{className:"tablero"},n.a.createElement("h1",{className:a},e),n.a.createElement("main",{className:t},l?n.a.createElement(R.a,{css:G,size:10,color:"#273043",loading:l}):n.a.createElement(I.Grid,{columns:r,rows:o,getRowKey:e=>e.id})))},D=[{title:()=>"Descripci\xf3n",value:e=>n.a.createElement("span",null,e.Descripcion)},{title:()=>"Precio",value:e=>n.a.createElement("span",null,e.Precio)},{title:()=>"Talle",value:e=>n.a.createElement("span",null,e.Talle)},{title:()=>"Categoria",value:e=>n.a.createElement("span",null,e.Categoria)},{title:()=>"Marca",value:e=>n.a.createElement("span",null,e.Marca)},{title:()=>"G\xe9nero",value:e=>n.a.createElement("span",null,e.Genero)}],F=[{title:()=>"Descripci\xf3n",value:e=>n.a.createElement("span",null,e.Nombre)},{title:()=>"Precio",value:e=>n.a.createElement("span",null,e.Precio)},{title:()=>"Talle",value:e=>n.a.createElement("span",null,e.Talle)},{title:()=>"Categoria",value:e=>n.a.createElement("span",null,e.Categoria)},{title:()=>"Marca",value:e=>n.a.createElement("span",null,e.Marca)},{title:()=>"G\xe9nero",value:e=>n.a.createElement("span",null,e.Genero)},{title:()=>"Ventas",value:e=>n.a.createElement("span",null,e.Ventas)}],U=()=>{var e=Object(s.b)(),a=Object(s.c)(e=>e.products).productos;return Object(r.useEffect)(()=>{e(e=>{e(y()),v.a.get("https://zapateria-zitelli-api.herokuapp.com/productos").then(a=>{if(a.data.error)return u.a.fire("Error",a.data.error,"error");var t;e((t=a.data.products,{type:"getAllProducts",payload:[...t]})),e(_())}).catch(e=>{console.error(e)})})},[e]),n.a.createElement(A,{title:"Productos",titleClass:"productos__title",mainClass:"productos__main",gridColumns:D,gridRows:a})},B=[{title:()=>"Vendedor",value:e=>n.a.createElement("span",null,e.Vendedor)},{title:()=>"Ventas",value:e=>n.a.createElement("span",null,e.Ventas)}],Z=()=>{var e=Object(s.c)(e=>e.salespeople).salespeople,a=Object(s.b)();return Object(r.useEffect)(()=>{a(e=>{e(y()),v.a.get("https://zapateria-zitelli-api.herokuapp.com/vendedores/best-salespeople/").then(a=>{if(a.data.error)return u.a.fire("Error",a.data.error,"error");var t;e((t=a.data.salespeople,{type:"getBestSalespeople",payload:[...t]})),e(_())}).catch(e=>{console.error(e)})})},[a]),n.a.createElement(A,{title:"Vendedores",titleClass:"vendedores__title",mainClass:"vendedores__main",gridColumns:B,gridRows:e})},H=[{title:()=>"Vendedor",value:e=>n.a.createElement("span",null,e.Vendedor)},{title:()=>"Fecha",value:e=>n.a.createElement("span",null,e.Fecha)},{title:()=>"Producto",value:e=>n.a.createElement("span",null,e.Producto)},{title:()=>"Cantidad",value:e=>n.a.createElement("span",null,e.Cantidad)}],J=()=>{var e=Object(s.b)(),a=Object(s.c)(e=>e.salespeople).sales;return Object(r.useEffect)(()=>{e(e=>{e(y()),v.a.get("https://zapateria-zitelli-api.herokuapp.com/vendedores/sales/").then(a=>{if(a.data.error)return u.a.fire("Error",a.data.error,"error");var t;e((t=a.data.sales,{type:"getVentas",payload:[...t]})),e(_())}).catch(e=>{console.error(e)})})},[e]),n.a.createElement(A,{title:"Vendedores y sus ventas",titleClass:"ventas__title",mainClass:"ventas__main",gridColumns:H,gridRows:a})},X=()=>{var e=Object(s.b)(),a=Object(s.c)(e=>e.products).productosMasVendidos;return Object(r.useEffect)(()=>{e(e=>{e(y()),v.a.get("https://zapateria-zitelli-api.herokuapp.com/productos/most-sold-products").then(a=>{if(a.data.error)return u.a.fire("Error",a.data.error,"error");var t;e((t=a.data.products,{type:"getMostSoldProducts",payload:[...t]})),e(_())}).catch(e=>{console.error(e)})})},[e]),n.a.createElement(A,{title:"Productos m\xe1s vendidos",titleClass:"productos-mas-vendidos__title",mainClass:"productos-mas-vendidos__main",gridColumns:F,gridRows:a})},K=[{title:()=>"Marca",value:e=>n.a.createElement("span",null,e.Marca)},{title:()=>"Ventas",value:e=>n.a.createElement("span",null,e.Ventas)}],q=()=>{var e=Object(s.b)(),a=Object(s.c)(e=>e.products).marcasMasVendidas;return Object(r.useEffect)(()=>{e(e=>{e(y()),v.a.get("https://zapateria-zitelli-api.herokuapp.com/productos/most-sold-brands").then(a=>{if(a.data.error)return u.a.fire("Error",a.data.error,"error");var t;e((t=a.data.brands,{type:"getMostSoldBrands",payload:[...t]})),e(_())}).catch(e=>{console.error(e)})})},[e]),n.a.createElement(A,{title:"Marcas m\xe1s vendidas",titleClass:"marcas-mas-vendidas__title",mainClass:"marcas-mas-vendidas__main",gridColumns:K,gridRows:a})},Q=[{title:()=>"Categor\xeda",value:e=>n.a.createElement("span",null,e.Categoria)},{title:()=>"Ventas",value:e=>n.a.createElement("span",null,e.Ventas)}],W=()=>{var e=Object(s.b)(),a=Object(s.c)(e=>e.products).categoriasMasVendidas;return Object(r.useEffect)(()=>{e(e=>{e(y()),v.a.get("https://zapateria-zitelli-api.herokuapp.com/productos/most-sold-categories").then(a=>{if(a.data.error)return u.a.fire("Error",a.data.error,"error");var t;e((t=a.data.categories,{type:"getMostSoldCategories",payload:[...t]})),e(_())}).catch(e=>{console.error(e)})})},[e]),n.a.createElement(A,{title:"Categor\xedas m\xe1s vendidas",titleClass:"categorias-mas-vendidas__title",mainClass:"categorias-mas-vendidas__main",gridColumns:Q,gridRows:a})},Y=[{title:()=>"G\xe9nero",value:e=>n.a.createElement("span",null,e.Genero)},{title:()=>"Ventas",value:e=>n.a.createElement("span",null,e.Ventas)}],$=()=>{var e=Object(s.b)(),a=Object(s.c)(e=>e.products).generosMasVendidos;return Object(r.useEffect)(()=>{e(e=>{e(y()),v.a.get("https://zapateria-zitelli-api.herokuapp.com/productos/most-sold-genres").then(a=>{if(a.data.error)return u.a.fire("Error",a.data.error,"error");var t;e((t=a.data.genres,{type:"getMostSoldGenres",payload:[...t]})),e(_())}).catch(e=>{console.error(e)})})},[e]),n.a.createElement(A,{title:"G\xe9neros m\xe1s vendidos",titleClass:"generos-mas-vendidos__title",mainClass:"generos-mas-vendidos__main",gridColumns:Y,gridRows:a})},ee=()=>n.a.createElement(n.a.Fragment,null,n.a.createElement(P,null),n.a.createElement("div",{className:"dashboard-routes-container"},n.a.createElement(i.d,null,n.a.createElement(i.b,{exact:!0,path:"/vendedores",component:Z}),n.a.createElement(i.b,{exact:!0,path:"/vendedores/ventas",component:J}),n.a.createElement(i.b,{exact:!0,path:"/productos/",component:U}),n.a.createElement(i.b,{exact:!0,path:"/productos/mas-vendidos",component:X}),n.a.createElement(i.b,{exact:!0,path:"/productos/mas-vendidos-marca",component:q}),n.a.createElement(i.b,{exact:!0,path:"/productos/mas-vendidos-categoria",component:W}),n.a.createElement(i.b,{exact:!0,path:"/productos/mas-vendidos-genero",component:$}),n.a.createElement(i.b,{exact:!0,path:"/home",component:k}),n.a.createElement(i.a,{to:"/home"}))),n.a.createElement(S,null)),ae=t(24),te=e=>{var a=e.isAuthenticated,t=e.component,r=Object(ae.a)(e,["isAuthenticated","component"]);return localStorage.setItem("lastPath",r.location.pathname),n.a.createElement(i.b,Object.assign({},r,{component:e=>a?n.a.createElement(t,e):n.a.createElement(i.a,{to:"/login"})}))},re=e=>{var a=e.isAuthenticated,t=e.component,r=Object(ae.a)(e,["isAuthenticated","component"]),o=localStorage.getItem("lastPath")||"/home";return n.a.createElement(i.b,Object.assign({},r,{component:e=>a?n.a.createElement(i.a,{to:o}):n.a.createElement(t,e)}))},ne=()=>{var e=Object(s.c)(e=>e.auth).logged;return n.a.createElement(c.a,{basename:""},n.a.createElement("div",{className:"main-container"},n.a.createElement(i.d,null,n.a.createElement(re,{exact:!0,path:"/login",component:z,isAuthenticated:e}),n.a.createElement(te,{path:"/",component:ee,isAuthenticated:e}))))},oe=t(16),le=t(62),se={loading:!1},ce="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||oe.d,ie=Object(oe.c)({auth:(e=(()=>localStorage.getItem("usuario")?{usuario:localStorage.getItem("usuario"),logged:!0}:{logged:!1})(),a)=>{switch(a.type){case"login":return Object(N.a)(Object(N.a)({},a.payload),{},{logged:!0});case"logout":return{logged:!1};default:return e}},products:(e={},a)=>{switch(a.type){case"getAllProducts":return Object(N.a)(Object(N.a)({},e),{},{productos:[...a.payload]});case"getMostSoldProducts":return Object(N.a)(Object(N.a)({},e),{},{productosMasVendidos:[...a.payload]});case"getMostSoldBrands":return Object(N.a)(Object(N.a)({},e),{},{marcasMasVendidas:[...a.payload]});case"getMostSoldCategories":return Object(N.a)(Object(N.a)({},e),{},{categoriasMasVendidas:[...a.payload]});case"getMostSoldGenres":return Object(N.a)(Object(N.a)({},e),{},{generosMasVendidos:[...a.payload]});default:return e}},salespeople:(e={},a)=>{switch(a.type){case"getBestSalespeople":return Object(N.a)(Object(N.a)({},e),{},{salespeople:[...a.payload]});case"getVentas":return Object(N.a)(Object(N.a)({},e),{},{sales:[...a.payload]});default:return e}},ui:(e=se,a)=>{switch(a.type){case E:return Object(N.a)(Object(N.a)({},e),{},{loading:!0});case h:return Object(N.a)(Object(N.a)({},e),{},{loading:!1});case j:return Object(N.a)(Object(N.a)({},e),{},{loadingTablero:!0});case O:return Object(N.a)(Object(N.a)({},e),{},{loadingTablero:!1});default:return e}}}),de=Object(oe.e)(ie,ce(Object(oe.a)(le.a))),me=()=>n.a.createElement(s.a,{store:de},n.a.createElement(ne,null)),ue=(t(168),document.getElementById("root"));l.a.render(n.a.createElement(me,null),ue)},63:function(e,a,t){e.exports=t(169)}},[[63,1,2]]]);
//# sourceMappingURL=main.b077c81b.chunk.js.map