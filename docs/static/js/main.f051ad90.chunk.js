(this["webpackJsonpzapateria-tablero"]=this["webpackJsonpzapateria-tablero"]||[]).push([[0],{159:function(e,a,t){},160:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(18),s=t.n(o),l=t(2),c=t(11),i=t(4),d=t(22),m=t(5),u=t(14),p=t.n(u),v=t(7),b=t.n(v),E=e=>({type:"login",payload:{usuario:e}}),g=t(29),h=t.n(g),j=({history:e})=>{var a=Object(l.b)(),t=((e={})=>{var a=Object(r.useState)(e),t=Object(d.a)(a,2),n=t[0],o=t[1];return[n,({target:e})=>{o(Object(m.a)(Object(m.a)({},n),{},{[e.name]:e.value}))},()=>{o(e)}]})({username:"",password:""}),o=Object(d.a)(t,3),s=o[0],c=o[1],i=o[2];Object(r.useEffect)(()=>{""!==localStorage.getItem("usuario")&&a(E(localStorage.getItem("usuario")))},[a]);var u=s.username,v=s.password;return n.a.createElement("form",{className:"form-login animate__animated animate__fadeIn",id:"id-form-login",onSubmit:t=>{t.preventDefault();var r,n,o=localStorage.getItem("lastPath")||"/home";return h.a.isEmpty(u,{ignore_whitespace:!1})?b.a.fire("Error","El nombre de usuario es inv\xe1lido","error"):h.a.isEmpty(v,{ignore_whitespace:!1})?b.a.fire("Error","La contrase\xf1a no puede estar vac\xeda","error"):(e.replace(o),a((r=u,n=v,e=>{p.a.post("https://zapateria-zitelli-api.herokuapp.com/usuarios/login/",{usuario:r,contrasena:n}).then(a=>{if(a.data.error)return b.a.fire("Error",a.data.error,"error");e(E(a.data.user.usuario)),localStorage.setItem("usuario",a.data.user.usuario)}).catch(e=>{console.error(e)})})),void i({username:"",password:""}))}},n.a.createElement("h1",{className:"h3 mb-3"},"Inici\xe1 sesi\xf3n"),n.a.createElement("label",{htmlFor:"inputEmail",className:"sr-only"},"Nombre de usuario"),n.a.createElement("input",{name:"username",onChange:c,value:u,type:"text",id:"inputUsername",className:"form-control",placeholder:"Username",autoFocus:"on"}),n.a.createElement("label",{htmlFor:"inputPassword",className:"sr-only"},"Contrase\xf1a"),n.a.createElement("input",{name:"password",value:v,onChange:c,type:"password",id:"inputPassword",className:"form-control",placeholder:"Password"}),n.a.createElement("button",{className:"btn btn-lg btn-primary btn-block",type:"submit"},"Ingresar"),n.a.createElement("p",{className:"mt-5 mb-3 text-muted"},"Hecho con \ud83d\udc96 por ",n.a.createElement("a",{rel:"noopener noreferrer",href:"https://github.com/juanzitelli",target:"_blank"},"@juanzitelli")))},O=()=>n.a.createElement("footer",{className:"footer navbar navbar-expand-sm navbar-light bg-light border-top"},n.a.createElement("p",{className:"mt-5 mb-3 text-muted"},"Hecho con \ud83d\udc96 por ",n.a.createElement("a",{rel:"noopener noreferrer",href:"https://github.com/juanzitelli",target:"_blank"},"@juanzitelli"))),f=()=>{var e=Object(l.c)(e=>e.auth).usuario;return n.a.createElement("div",{className:"home__main"},n.a.createElement("div",{className:"jumbotron container mt-5 animate__animated animate__fadeIn"},n.a.createElement("h1",{className:"display-4"},"\xa1Bienvenido, ",e,"!"),n.a.createElement("p",{className:"lead"},' Este es un tablero dise\xf1ado para mostrar informaci\xf3n relevante con respecto a la "Zapater\xeda Zitelli" \ud83d\udcda\ud83d\udc60\ud83d\udcbb '),n.a.createElement("hr",{className:"my-4"}),n.a.createElement("strong",null,"Hac\xe9 clicks en los diferentes enlaces de la barra de navegaci\xf3n para ver dicha informaci\xf3n. ")))},_=()=>{var e=Object(l.b)(),a=Object(i.g)();return n.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark"},n.a.createElement(c.b,{to:"/home",className:"navbar-brand mb-0 h1"},"Zapater\xeda Zitelli"),n.a.createElement("div",{className:"navbar-collapse"},n.a.createElement("div",{className:"navbar-nav"},n.a.createElement("div",{className:"nav-item dropdown"},n.a.createElement("span",{role:"button","data-toggle":"dropdown","aria-haspopup":"true",activeClassName:"active",className:"nav-item nav-link dropdown-toggle"},"Vendedores"),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink"},n.a.createElement(c.c,{className:"dropdown-item",exact:!0,to:"/vendedores"},"Todos los vendedores"),n.a.createElement(c.c,{className:"dropdown-item",to:"/vendedores/ventas"},"Vendedores y sus ventas"))),n.a.createElement("div",{className:"nav-item dropdown"},n.a.createElement("span",{role:"button","data-toggle":"dropdown","aria-haspopup":"true",activeClassName:"active",className:"nav-item nav-link dropdown-toggle"},"Productos"),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink"},n.a.createElement(c.c,{className:"dropdown-item",exact:!0,to:"/productos"},"Todos los productos"),n.a.createElement(c.c,{className:"dropdown-item",to:"/productos/mas-vendidos"},"M\xe1s vendidos"),n.a.createElement(c.c,{className:"dropdown-item",to:"/productos/mas-vendidos-marca"},"M\xe1s vendidos por marca"),n.a.createElement(c.c,{className:"dropdown-item",to:"/productos/mas-vendidos-genero"},"M\xe1s vendidos por g\xe9nero"),n.a.createElement(c.c,{className:"dropdown-item",to:"/productos/mas-vendidos-categoria"},"M\xe1s vendidos por categor\xeda"))))),n.a.createElement("div",{className:"my-2 my-lg-0"},n.a.createElement("div",{className:"btn btn-outline-danger",onClick:()=>{a.replace("/login"),localStorage.setItem("usuario",""),e({type:"logout"})}}," Logout")))},y=t(55),w=({title:e,titleClass:a,mainClass:t,gridColumns:r,gridRows:o})=>n.a.createElement("div",{className:"tablero"},n.a.createElement("h1",{className:a},e),n.a.createElement("main",{className:t},n.a.createElement(y.Grid,{columns:r,rows:o,getRowKey:e=>e.id}))),N=[{title:()=>"Descripci\xf3n",value:e=>n.a.createElement("span",null,e.Descripcion)},{title:()=>"Precio",value:e=>n.a.createElement("span",null,e.Precio)},{title:()=>"Talle",value:e=>n.a.createElement("span",null,e.Talle)},{title:()=>"Categoria",value:e=>n.a.createElement("span",null,e.Categoria)},{title:()=>"Marca",value:e=>n.a.createElement("span",null,e.Marca)},{title:()=>"G\xe9nero",value:e=>n.a.createElement("span",null,e.Genero)}],C=[{title:()=>"Descripci\xf3n",value:e=>n.a.createElement("span",null,e.Nombre)},{title:()=>"Precio",value:e=>n.a.createElement("span",null,e.Precio)},{title:()=>"Talle",value:e=>n.a.createElement("span",null,e.Talle)},{title:()=>"Categoria",value:e=>n.a.createElement("span",null,e.Categoria)},{title:()=>"Marca",value:e=>n.a.createElement("span",null,e.Marca)},{title:()=>"G\xe9nero",value:e=>n.a.createElement("span",null,e.Genero)},{title:()=>"Ventas",value:e=>n.a.createElement("span",null,e.Ventas)}],M=()=>{var e=Object(l.b)(),a=Object(l.c)(e=>e.products).productos;return Object(r.useEffect)(()=>{e(e=>{p.a.get("https://zapateria-zitelli-api.herokuapp.com/productos/").then(a=>{if(a.data.error)return b.a.fire("Error",a.data.error,"error");var t;e((t=a.data.products,{type:"getAllProducts",payload:[...t]}))}).catch(e=>{console.error(e)})})},[e]),n.a.createElement(w,{title:"Productos",titleClass:"productos__title",mainClass:"productos__main",gridColumns:N,gridRows:a})},V=[{title:()=>"Vendedor",value:e=>n.a.createElement("span",null,e.Vendedor)},{title:()=>"Ventas",value:e=>n.a.createElement("span",null,e.Ventas)}],S=()=>{var e=Object(l.c)(e=>e.salespeople).salespeople,a=Object(l.b)();return Object(r.useEffect)(()=>{a(e=>{p.a.get("http://localhost:4000/vendedores/best-salespeople").then(a=>{if(a.data.error)return b.a.fire("Error",a.data.error,"error");var t;e((t=a.data.salespeople,{type:"getBestSalespeople",payload:[...t]}))}).catch(e=>{console.error(e)})})},[a]),n.a.createElement(w,{title:"Vendedores",titleClass:"vendedores__title",mainClass:"vendedores__main",gridColumns:V,gridRows:e})},k=[{title:()=>"Vendedor",value:e=>n.a.createElement("span",null,e.Vendedor)},{title:()=>"Fecha",value:e=>n.a.createElement("span",null,e.Fecha)},{title:()=>"Producto",value:e=>n.a.createElement("span",null,e.Producto)},{title:()=>"Cantidad",value:e=>n.a.createElement("span",null,e.Cantidad)}],P=()=>{var e=Object(l.b)(),a=Object(l.c)(e=>e.salespeople).sales;return Object(r.useEffect)(()=>{e(e=>{p.a.get("http://localhost:4000/vendedores/sales").then(a=>{if(a.data.error)return b.a.fire("Error",a.data.error,"error");var t;e((t=a.data.sales,{type:"getVentas",payload:[...t]}))}).catch(e=>{console.error(e)})})},[e]),n.a.createElement(w,{title:"Vendedores y sus ventas",titleClass:"ventas__title",mainClass:"ventas__main",gridColumns:k,gridRows:a})},z=()=>{var e=Object(l.b)(),a=Object(l.c)(e=>e.products).productosMasVendidos;return Object(r.useEffect)(()=>{e(e=>{p.a.get("https://zapateria-zitelli-api.herokuapp.com/most-sold-products").then(a=>{if(a.data.error)return b.a.fire("Error",a.data.error,"error");var t;e((t=a.data.products,{type:"getMostSoldProducts",payload:[...t]}))}).catch(e=>{console.error(e)})})},[e]),n.a.createElement(w,{title:"Productos m\xe1s vendidos",titleClass:"productos-mas-vendidos__title",mainClass:"productos-mas-vendidos__main",gridColumns:C,gridRows:a})},x=[{title:()=>"Marca",value:e=>n.a.createElement("span",null,e.Marca)},{title:()=>"Ventas",value:e=>n.a.createElement("span",null,e.Ventas)}],I=()=>{var e=Object(l.b)(),a=Object(l.c)(e=>e.products).marcasMasVendidas;return Object(r.useEffect)(()=>{e(e=>{p.a.get("https://zapateria-zitelli-api.herokuapp.com/productos/most-sold-brands").then(a=>{if(a.data.error)return b.a.fire("Error",a.data.error,"error");var t;e((t=a.data.brands,{type:"getMostSoldBrands",payload:[...t]}))}).catch(e=>{console.error(e)})})},[e]),n.a.createElement(w,{title:"Marcas m\xe1s vendidas",titleClass:"marcas-mas-vendidas__title",mainClass:"marcas-mas-vendidas__main",gridColumns:x,gridRows:a})},G=[{title:()=>"Categor\xeda",value:e=>n.a.createElement("span",null,e.Categoria)},{title:()=>"Ventas",value:e=>n.a.createElement("span",null,e.Ventas)}],R=()=>{var e=Object(l.b)(),a=Object(l.c)(e=>e.products).categoriasMasVendidas;return Object(r.useEffect)(()=>{e(e=>{p.a.get("https://zapateria-zitelli-api.herokuapp.com/productos/most-sold-categories").then(a=>{if(a.data.error)return b.a.fire("Error",a.data.error,"error");var t;e((t=a.data.categories,{type:"getMostSoldCategories",payload:[...t]}))}).catch(e=>{console.error(e)})})},[e]),n.a.createElement(w,{title:"Categor\xedas m\xe1s vendidas",titleClass:"categorias-mas-vendidas__title",mainClass:"categorias-mas-vendidas__main",gridColumns:G,gridRows:a})},A=[{title:()=>"G\xe9nero",value:e=>n.a.createElement("span",null,e.Genero)},{title:()=>"Ventas",value:e=>n.a.createElement("span",null,e.Ventas)}],D=()=>{var e=Object(l.b)(),a=Object(l.c)(e=>e.products).generosMasVendidos;return Object(r.useEffect)(()=>{e(e=>{p.a.get("https://zapateria-zitelli-api.herokuapp.com/productos/most-sold-genres").then(a=>{if(a.data.error)return b.a.fire("Error",a.data.error,"error");var t;e((t=a.data.genres,{type:"getMostSoldGenres",payload:[...t]}))}).catch(e=>{console.error(e)})})},[e]),n.a.createElement(w,{title:"G\xe9neros m\xe1s vendidos",titleClass:"generos-mas-vendidos__title",mainClass:"generos-mas-vendidos__main",gridColumns:A,gridRows:a})},T=()=>n.a.createElement(n.a.Fragment,null,n.a.createElement(_,null),n.a.createElement("div",{className:"dashboard-routes-container"},n.a.createElement(i.d,null,n.a.createElement(i.b,{exact:!0,path:"/vendedores",component:S}),n.a.createElement(i.b,{exact:!0,path:"/vendedores/ventas",component:P}),n.a.createElement(i.b,{exact:!0,path:"/home",component:f}),n.a.createElement(i.b,{exact:!0,path:"/productos/",component:M}),n.a.createElement(i.b,{exact:!0,path:"/productos/mas-vendidos",component:z}),n.a.createElement(i.b,{exact:!0,path:"/productos/mas-vendidos-marca",component:I}),n.a.createElement(i.b,{exact:!0,path:"/productos/mas-vendidos-categoria",component:R}),n.a.createElement(i.b,{exact:!0,path:"/productos/mas-vendidos-genero",component:D}),n.a.createElement(i.a,{to:"/home"}))),n.a.createElement(O,null)),B=t(23),F=e=>{var a=e.isAuthenticated,t=e.component,r=Object(B.a)(e,["isAuthenticated","component"]);return localStorage.setItem("lastPath",r.location.pathname),n.a.createElement(i.b,Object.assign({},r,{component:e=>a?n.a.createElement(t,e):n.a.createElement(i.a,{to:"/login"})}))},L=e=>{var a=e.isAuthenticated,t=e.component,r=Object(B.a)(e,["isAuthenticated","component"]);return n.a.createElement(i.b,Object.assign({},r,{component:e=>a?n.a.createElement(i.a,{to:"/"}):n.a.createElement(t,e)}))},Z=()=>{var e=Object(l.c)(e=>e.auth).logged;return n.a.createElement(c.a,null,n.a.createElement("div",{className:"main-container"},n.a.createElement(i.d,null,n.a.createElement(L,{exact:!0,path:"/login",component:j,isAuthenticated:e}),n.a.createElement(F,{path:"/",component:T,isAuthenticated:e}))))},H=t(16),U=t(56),J="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||H.d,X=Object(H.c)({auth:(e={},a)=>{switch(a.type){case"login":return Object(m.a)(Object(m.a)({},a.payload),{},{logged:!0});case"logout":return{logged:!1};default:return e}},products:(e={},a)=>{switch(a.type){case"getAllProducts":return Object(m.a)(Object(m.a)({},e),{},{productos:[...a.payload]});case"getMostSoldProducts":return Object(m.a)(Object(m.a)({},e),{},{productosMasVendidos:[...a.payload]});case"getMostSoldBrands":return Object(m.a)(Object(m.a)({},e),{},{marcasMasVendidas:[...a.payload]});case"getMostSoldCategories":return Object(m.a)(Object(m.a)({},e),{},{categoriasMasVendidas:[...a.payload]});case"getMostSoldGenres":return Object(m.a)(Object(m.a)({},e),{},{generosMasVendidos:[...a.payload]});default:return e}},salespeople:(e={},a)=>{switch(a.type){case"getBestSalespeople":return Object(m.a)(Object(m.a)({},e),{},{salespeople:[...a.payload]});case"getVentas":return Object(m.a)(Object(m.a)({},e),{},{sales:[...a.payload]});default:return e}}}),K=Object(H.e)(X,J(Object(H.a)(U.a))),q=()=>n.a.createElement(l.a,{store:K},n.a.createElement(Z,null)),Q=(t(159),document.getElementById("root"));s.a.render(n.a.createElement(q,null),Q)},57:function(e,a,t){e.exports=t(160)}},[[57,1,2]]]);
//# sourceMappingURL=main.f051ad90.chunk.js.map